<!DOCTYPE html>
<html lang="zh-cmn-Hans">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>创客贴母亲节</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <link rel="stylesheet" type="text/css" href="./css/share.css">
  <link rel="stylesheet" type="text/css" href="./css/reset.css">
</head>
<body>
<section class="first-section">
  <p>每一个问题看似简单</p>
  <p>却在强烈的撞击着你的心脏</p>
  <p>我们欠下的又何止是陪伴？</p>
</section>
<section class="second-section">
  <p>开心与喜悦、烦恼与不顺</p>
  <p>她永远是最懂你的那个人</p>
  <p>你是她的骄傲</p>
  <p>她是这个世界上最爱你的人</p>
</section>
<div class="share-button">分享给朋友</div>
<div class="play-video">点此播放视频</div>
<video
        id="myvideo"
        src="https://pub.cdn.oss.chuangkit.com/video/mothers_day_960_540.mp4"
        controls="controls"
        autoplay="autoplay"
>
  您的浏览器不支持 video 标签。
</video>
<div class="modal">
  <div class="share-tip-container">
    <span class="pointer-icon">👆</span>
    <p class="share-tip">点击这里分享</p>
  </div>
</div>
<!--引入jQuery-->
<script src="./libs/jquery-1.12.4.min.js"></script>
<script>
  $(".play-video").click(function () { // 全屏播放视频
    $("#myvideo").css('display','block');
    var elem = document.getElementById("myvideo");
    if (elem.requestFullscreen) {
      elem.requestFullscreen();
    } else if (elem.mozRequestFullScreen) {
      elem.mozRequestFullScreen();
    } else if (elem.webkitRequestFullscreen) {
      elem.webkitRequestFullscreen();
    }
  });
  // 侦听全屏事件
  var myvideo = document.getElementById("myvideo");
  document.addEventListener("fullscreenchange", function () {
    if(!document.fullscreen) {
      $("#myvideo").css('display','none');
    }
  }, false);

  document.addEventListener("mozfullscreenchange", function () {
    if(!document.mozFullScreen) {
      $("#myvideo").css('display','none');
    }
  }, false);

  document.addEventListener("webkitfullscreenchange", function() {
    if(!document.fullScreen) {
      $("#myvideo").css('display','none');
    }
  },false);

  document.addEventListener("MSFullscreenChange", function () {
    if(!document.MSFullscreenElement) {
      $("#myvideo").css('display','none');
    }
  }, false);

  $(document).ready(function(){
    // 绑定页面的resize事件以在变化时更新html的font-size
    $(window).resize(setFontSize);
  });
  // 设置html的font-size
  function setFontSize() {
    document.getElementsByTagName('html')[0].style.fontSize = (window.innerWidth / 375) * 100 + 'px';
  }
  document.addEventListener('touchstart',touch, false);
  document.addEventListener('touchmove',touch, false);
  document.addEventListener('touchend',touch, false);

  function touch (event){
    var event = event || window.event;

    switch(event.type){
      case "touchstart":
        window.touchX =  event.touches[0].clientX;
        break;
      case "touchend":
        if((event.changedTouches[0].clientX - window.touchX) > 30) {
          window.location.href = 'question.html';
          console.log('后退');
        }
        break;
    }
  }
$(".share-button").click(function () {
  $(".modal").css("display","block");
});
</script>

</body>
</html>